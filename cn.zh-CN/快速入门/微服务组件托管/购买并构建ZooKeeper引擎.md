---
keyword: [微服务, 服务发现, ZooKeeper]
---

# 购买并构建ZooKeeper引擎

使用ZooKeeper作为应用服务发现、配置管理等功能，您需要购买相应的资源进行搭建和维护，耗时耗力。使用MSE构建的ZooKeeper引擎，您仅需关注ZooKeeper的构建位置、版本、网络和规格，不必关注ZooKeeper的构建和维护，更加聚焦业务本身的实现。

-   已创建专有网络
-   已确保VPC可用

## 视频教程

本视频以创建Nacos引擎为例，ZooKeeper引擎创建步骤与Nacos相同。



## 操作步骤

1.  进入MSE实例创建页面。

    -   未开通MSE集群托管
        1.  登录[MSE产品页](https://www.aliyun.com/product/mse)。
        2.  选择您需要创建的MSE实例，例如**ZooKeeper**、**Eureka**和**Nacos**。

            进入MSE实例创建及购买页面。

    -   已开通MSE集群托管
        1.  登录[MSE管理控制台](https://mse.console.aliyun.com)。
        2.  在左侧导航栏选择**注册配置中心** \> **实例列表**。
        3.  在实例列表页面单击**创建实例**。
2.  设置付费模式。

    在MSE购买页面选择付费模式。

    MSE有预付费（包年包月）和按量付费（按小时）两种模式，如果您的服务注册中心使用时间在一个月以上，建议采用更加优惠的预付费（包年包月）模式。

3.  配置实例地域信息。

    选择您MSE实例所在地域。

    **说明：** 目前MSE现已开放了**华东1（杭州）**、**华东2（上海）**、**华北2（北京）**、**华北3（张家口）**、**华南1（深圳）**、**新加坡**、**美国（弗吉尼亚）**、**俄罗斯（莫斯科）**地域。

4.  配置引擎基本信息。

    配置基本参数如下：

    ![Zookeeper基本信息](https://static-aliyun-doc.oss-cn-hangzhou.aliyuncs.com/assets/img/zh-CN/6047673061/p176088.png)

    -   **引擎类型**：选择**ZooKeeper**。
    -   **引擎版本**：MSE Zookeeper有两个引擎版本，**3.4.14**和**3.5.5**，推荐使用**3.4.14**。
    -   **引擎规格**：MSE实例规格有四种规格，**1核2G**、**2核4G**、**4核8G**和**8核16G**。

        在选择规格时，选择您适用的规格，详情请参见[微服务组件托管实例能力评估](/cn.zh-CN/产品定价/微服务组件托管/微服务组件托管实例能力评估.md)。

    -   **集群节点数**：选择集群内的节点数，即一个集群需要多少台上述规格的ECS组成。

        **说明：** ZooKeeper集群建议至少由3台ECS组成，否则无法保障高可用。

5.  配置网络。

    ![网络配置](https://static-aliyun-doc.oss-cn-hangzhou.aliyuncs.com/assets/img/zh-CN/6781309951/p76852.png)

    **网络类型**：包括公网实例和专有网络两种类型。

    -   公网实例：IP地址由阿里云统一分配，配置简便，使用方便，适合对操作易用性要求比较高、需要快速使用的场景。
    -   专有网络：是指逻辑隔离的私有网络，您可以自定义网络拓扑和IP地址，支持通过专线连接。适合于熟悉网络管理的用户。
    -   如果选择**专有网络**，则需要选择具体VPC和交换机。
    -   如果选择**公网网络**，则需要购买公网流量，详情请参见[购买公网流量](#step_0lm_in0_4sr)。
6.  （可选）购买公网流量。

    如果您网络类型选择了**公网网络**，那么需要购买公网流量。请依据您的实际情况购买公网流量，具体费用请参见[公网费用](/cn.zh-CN/产品定价/微服务组件托管/公网费用.md)。

7.  （可选）购买时长配置。

    在预付费（包年包月）模式中您需要选择购买时长。

    ![购买时长配置](https://static-aliyun-doc.oss-cn-hangzhou.aliyuncs.com/assets/img/zh-CN/6781309951/p76907.png)

8.  确认订单。

    1.  单击**立即购买**。

    2.  在**确认订单**页面勾选服务协议，并依据提示支付。


实例创建后，返回实例列表页面，查看实例创建是否成功。**运行状态**是否为运行中。

![MSE实例列表](https://static-aliyun-doc.oss-cn-hangzhou.aliyuncs.com/assets/img/zh-CN/5781309951/p51162.png)

ZooKeeper创建完成后您可以依据实际情况进行如下操作。

-   依据实际情况在应用的配置文件中修改ZooKeeper的配置，例如修改网络和端口等。
-   设置公网访问、监控管理和报警管理等。

