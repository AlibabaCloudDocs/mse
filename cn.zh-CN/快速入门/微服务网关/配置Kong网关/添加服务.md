# 添加服务

您需要将已有的服务添加到网关中，登记为API备选服务，以便网关获取服务地址。

添加服务包含两种形式：

-   从注册中心添加：如果在网关中添加了注册中心，网关会从注册中心获取服务列表，将服务列表中的服务及其后端节点地址添加到网关中。
-   从其它来源添加：如果该服务没有注册中心，需要手动添加服务的后端节点地址。

## 操作步骤

1.  登录[微服务网关控制台](https://microgw.console.aliyun.com/)。

2.  在顶部菜单栏选择**地域**。

3.  在左侧导航栏选择**网关管理**。

4.  在**网关管理**页面单击网关名称。

5.  在**网关详情**页面左侧导航栏单击**服务管理**。

6.  在**服务管理**页面左上角单击**新建服务**。

7.  在**新建服务**对话框中配置服务相关参数，然后单击**确认**。

    ![新建服务](https://static-aliyun-doc.oss-accelerate.aliyuncs.com/assets/img/zh-CN/5331446951/p84663.png)

    **新建服务**参数说明：

    |参数|说明|
    |--|--|
    |**服务名称**|仅限字母、数字和下划线（\_），最多64个字符，必须以字母开头。|
    |**中文名称**|易于识别的服务中文名称。|
    |**服务来源**|服务的来源，包含**注册中心**和**其它**。其中**其它**表示未在注册中心注册的独立服务。|
    |**注册中心**（适用于来源**注册中心**的服务）|在网关中添加的注册中心及其地址。|
    |**注册的服务**（适用于来源**注册中心**的服务）|注册到选定注册中心的服务。|
    |**服务描述**|备注识别服务的信息。|
    |**后端节点**|服务的后端节点地址。**服务来源**为**注册中心**和**其它**的服务的后端节点有所不同，但格式均为`<后端节点IP>:<服务端口>`，多个节点通过换行分隔。    -   **注册中心**的服务：不可设置，默认显示所选服务的所有后端节点地址。
    -   **其它**的服务：需要手动输入该服务的后端节点地址。 |
    |**节点自动刷新**（适用于来源**注册中心**的服务）|来源为注册中心的服务，建议打开**节点自动刷新**开关。打开后，如果服务的后端节点地址变更，会同步到注册中心，网关可以从注册中心获取该服务最新的后端节点地址。|


## 结果验证

服务创建成功，会弹出：

```
服务创建成功
```

返回**服务管理**页面会查看服务信息。如果包含新建服务的**名称**、**后端节点**和**状态**等信息，则表明服务添加成功。

添加服务后，可以新建API，并关联创建的服务。具体操作，请参见[新建API]()。

您还可以**编辑**（变更）或**删除**该服务，步骤比较简单，不再赘述。

**说明：**

-   服务被API关联后，**编辑**时只能修改别名和描述，其它参数不可修改。
-   服务被API关联后，当API在运行时，服务不可**删除**。

